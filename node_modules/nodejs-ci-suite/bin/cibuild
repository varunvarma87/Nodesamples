#!/usr/bin/env node

var program  = require('commander'),
    create = require('../lib/create').create,
    pkg      = require('../package.json');

program.version(pkg.version)
 	.option("--nooverride", "Use this flag, if you do not want to override the build files.")
 	.option("--root [root]", "The root directory of the project. this directory should have a package.json")
  .option("--dev", "Use this when using the CI suite in development environment");

//create
program.command('create')
  .description('Creates the files required for CI build')
  .option("--nooverride", "Use this flag, if you do not want to override the build files.")
  .option("--root [root]", "The root directory of the project. This directory should have a package.json")
  .option("--dev", "Use this when using the CI suite in development environment")
  .action(function(opts){
  		var options = {};
  		if (opts.parent) {
  			options.nooverride = opts.parent.nooverride;
  			options.root = opts.parent.root;
        options.dev = opts.parent.dev;
  		}
  		create(options);
  });

program.parse(process.argv);
