'use strict';

var hammer = require('hammertime'),
    servicecore = require('../lib');

servicecore.configuration = {
    'servicecore': {
        rejectUnauthorized: true
    },
    'client': {
        protocol: 'http',
        host: 'localhost',
        port: '3000',
        path: '/'
    }
};

hammer({
    iterations: 1000,
    before: function (next) {
        servicecore.register('client', require('../test/fixtures/client'));
        next();
    },
    after: function (results) {
        console.log('servicecore.create(): %d operations/second.', results.ops);
    }
})
.time(function () {
    servicecore.create('client');
});

hammer({
    iterations: 1000,
    after: function (results) {
        console.log('transport(): %d operations/second.', results.ops);
    }
})
.time(function () {
    servicecore.transports({});
});
