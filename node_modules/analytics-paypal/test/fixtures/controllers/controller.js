'use strict';

module.exports = function (app) {

    var samplePageName = 'walletexpnodeweb/public/templates/summary/index.dust';

    app.get('/', function (req, res) {

        res.render('sample', {
            title: 'Hello, world',
            pagename: samplePageName
        });

    });

    app.get('/json', function (req, res) {

        res.json({
            title: 'Hello, world',
            viewName: 'home'        //This is to do buzname lookup
        });

    });

    app.get('/insidefolder', function (req, res) {

        res.render('somefolder/sometemplate', {
            title: 'inside folder',
            pagename: samplePageName
        });

    });


    app.get('/sc', function (req, res) {

        res.render('sampleSiteCatalyst', {
            title: 'sample Site Catalyst Page',
            pagename: samplePageName
        });

    });


    app.get('/fpti', function (req, res) {

        var tracking = req.tracking;
        var model = req.model || {};
        model.pagename = 'walletexpnodeweb/public/templates/transfer/index.dust';
        model.sk = 'sanjeev koranga';
        tracking.addError('fieldId', 'errorMsg', 'errorCode');
        tracking.addData('fptiKey', 'siteCatalystKey', 'value');
        tracking.addData('boolFalse', null, false);
        tracking.addData('boolTrue', null, true);
        tracking.addData('nullKey', null, null);
        tracking.setBusinessType('individual');
        tracking.setMerchantType('corporation');

        res.render('sampleFPTI', model);

    });

    app.get('/fptiFlush', function (req, res) {

        var tracking = req.tracking;
        var model = req.model || {};
        model.pagename = 'walletexpnodeweb/public/templates/transfer/index.dust';
        model.sk = 'analytics module';
        tracking.flushServerSide(tracking.getDefaultServerData());
        tracking.flushServerSide({foo: 'bar', 'page': 'test:test', 'boolFalse': false});
        tracking.flushServerSide({foo1: 'bar1', 'page': 'test:test'});
        tracking.flushServerSide({foo2: 'bar3', 'page': 'test:test'});
        tracking.addError('fieldId', 'errorMsg', 'errorCode');
        tracking.addData('fptiKey', 'siteCatalystKey', 'value');

        res.render('sampleFPTI', model);

    });

    app.get('/fptiQualifier', function (req, res) {

        var tracking = req.tracking;
        var model = req.model || {};
        model.pagename = 'walletexpnodeweb/public/templates/summary/index.dust';
        model.pageQualifier = 'noActivity';
        model.sk = 'sanjeev koranga';
        tracking.addError('fieldId', 'errorMsg', 'errorCode');
        tracking.addData('fptiKey', 'siteCatalystKey', 'value');
        tracking.setBusinessType('individual');
        tracking.setMerchantType('corporation');

        res.render('sampleFPTI', model);

    });

    app.get('/newPageFptiQualifier', function (req, res) {

        var tracking = req.tracking;
        var model = req.model || {};
        model.pagename = 'myTestApp/public/templates/index.dust';
        model.pageQualifier = 'myNewQual';
        tracking.addData('boolFalse', null, false);
        tracking.addData('boolTrue', null, true);
        tracking.addData('nullKey', null, null);

        res.render('sampleFPTI', model);

    });

};
