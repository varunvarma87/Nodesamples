{
    "ssl": {
        "client_credentials": "vault:client_credentials",
        "client_sessions": "vault:client_sessions"
    },
    "express": {
        "trust proxy": true
    },
    "mayfly": {
        "cryptKey": "vault:encrypted_mayflysession_crypt_key",
        "macKey": "vault:encrypted_mayflysession_mac_key"
    },
    "rlogId": {
        "cryptKey": "vault:encrypted_rlogid_crypt_key",
        "macKey": "vault:encrypted_rlogid_mac_key"
    },
    "kms": {
        "secret": "vault:encrypted_keymaker_agent_passphrase"
    },
    "services": {
        "servicecore": {
            "rejectUnauthorized": false,
            "ca": "config:ssl.client_credentials.ca",
            "cert": "config:ssl.client_credentials.cert",
            "key": "config:ssl.client_credentials.key",
            "passphrase": "config:ssl.client_credentials.passphrase",
            "sessions": "config:ssl.client_sessions"
        }
    },
    "topos": {
        "connections": [
            "mayfly",
            "ratelimiter",
            "cal"
        ]
    },

    //default Infra middlewares
    "middleware": {
        "ecv": {
            "enabled": true,
            "priority": 51,
            "module": {
                "name": "ecv-paypal"
            }
        },
        "cal": {
            "enabled": true,
            "priority": 90,
            "module": {
                "name": "cal/middleware",
                "arguments": [{
                    "enableBuffering": true
                }]
            }
        },
        "ppcommons": {
            "enabled": true,
            "priority": 92,
            "module": {
                "name": "commons-paypal",
                "arguments": [{
                    "cryptKey": "vault:encrypted_rlogid_crypt_key",
                    "macKey": "vault:encrypted_rlogid_mac_key"
                }]
            }
        },
        "expressMeta": {
            "enabled": true,
            "priority": 93,
            "module": {
                "name": "express-meta"
            }
        },
        "pplogger": {
            "enabled": true,
            "priority": 94,
            "module": {
                "name": "pplogger",
                "arguments": [{
                    "type": "cal"
                }]
            }
        },
        "session": {
            "enabled": true,
            "priority": 100,
            "module": {
                "name": "connect-mayfly/middleware",
                "arguments": [{
                    "cryptKey": "vault:encrypted_mayflysession_crypt_key",
                    "macKey": "vault:encrypted_mayflysession_mac_key",
                    "proxy": null
                }]
            }
        },
        "servicecore": {
            "enabled": true,
            "priority": 100,
            "module": {
                "name": "servicecore"
            }
        },
        //adding save session hook after session
        "sessionsave": {
            "priority": 101,
            "enabled": true,
            "module": {
                "name": "connect-mayfly/middleware",
                "method": "forceSessionSave"
            }
        },
        "infraservices": {
            "priority": 101,
            "parallel": {
                "keebler": {
                    "enabled": true,
                    "module": {
                        "name": "keebler-paypal"
                    }
                },
                "device-detection": {
                    "enabled": true,
                    "module": {
                        "name": "device-detection-paypal",
                        "method": "middleware"
                    }
                }
            }
        },
        "analytics-paypal": {
            "enabled": true,
            "priority": 115,
            "module": {
                "name": "analytics-paypal"
            }
        },
        "monitor-paypal": {
            "enabled": true,
            "priority": 118,
            "module": {
                "name": "monitor-paypal",
                "method": "init"
            }
        }
    }
}