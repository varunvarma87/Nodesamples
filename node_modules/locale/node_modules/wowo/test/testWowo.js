/*global describe, it */

'use strict';

var assert = require('assert'),
    Wowo = require('../lib/Wowo');

describe('Test Wowo', function () {
    it('Should construct wowo map object', function (next) {
        var wowoCdb = {
            wowo_51564_opf_via_xpt: ['1'],
            wowo_dual_api_credential: ['true'],
            wowo_4515_external_spoof_case_creation: ['on'],
            wowo_5536_webform_iterations: '1',
            wowo_19489_pin_international_fee: 'true',
            wowo_5839_merchant_auth: 'on',
            wowo_5891_merchant_onboarding: 'off',
            wowo_5964_verisign_clickthru: '0',
            wowo_6103_settlement_stability_enhancements: 'false',
            wowo_5589_NL_DC_to_JPMC: ['0'],
            wowo_5373_ipn_rearch: ['off'],
            wowo_6420_betfair_rollback: ['false']

        };

        var wowo = new Wowo(wowoCdb);
        assert.ok(wowo.isWowoOn('wowo_51564_opf_via_xpt'));
        assert.ok(wowo.isWowoOn('wowo_dual_api_credential'));
        assert.ok(wowo.isWowoOn('wowo_4515_external_spoof_case_creation'));
        assert.ok(wowo.isWowoOn('wowo_5536_webform_iterations'));
        assert.ok(wowo.isWowoOn('wowo_19489_pin_international_fee'));
        assert.ok(wowo.isWowoOn('wowo_5839_merchant_auth'));
        assert.ok(wowo.isWowoOff('wowo_5891_merchant_onboarding'));
        assert.ok(wowo.isWowoOff('wowo_5964_verisign_clickthru'));
        assert.ok(wowo.isWowoOff('wowo_6103_settlement_stability_enhancements'));
        assert.ok(wowo.isWowoOff('wowo_5589_NL_DC_to_JPMC'));
        assert.ok(wowo.isWowoOff('wowo_5373_ipn_rearch'));
        assert.ok(wowo.isWowoOff('wowo_6420_betfair_rollback'));
        assert.ok(wowo.get('wowo_51564_opf_via_xpt') === '1');
        assert.ok(wowo.get('wowo_28080_tiger_INR') === undefined);

        next();
    });
});
