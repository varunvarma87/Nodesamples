'use strict';


function BaseClient(config) {
    this._config = config;
    this._fallback = undefined;
    this._sharePath = undefined;
    this._totalShares = parseInt(config.total_shares, 10) || 0;
}


BaseClient.prototype = {

    get sharePath() {
        return this._sharePath;
    },

    set sharePath(value) {
        this._sharePath = value;
    },

    get fallback() {
        return this._fallback;
    },

    set fallback(value) {
        this._fallback = value;
    },

    getPin: function (callback) {
        this._doGetPin(function (err, pin) {
            if (err) {
                callback(err);
                return;
            }

            if (!pin && this._fallback) {
                this._fallback.getPin(callback);
                return;
            }

            callback(null, pin);
        });
    },

    _doGetPin: function (/* callback */) {
        throw new Error('Not implemented');
    }

};


exports = module.exports = BaseClient;