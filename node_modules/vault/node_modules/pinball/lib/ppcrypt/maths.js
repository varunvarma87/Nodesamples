'use strict';

var bignum = require('bignum'),
    hash = require('./hash');


var ONE = bignum(1);
var TWO = bignum(2);
var CERTAINTY = 64;

function createPrime(length) {
    var prime;

    length = length || 10;
    prime = TWO.pow((length + hash.SHA1_DIGEST_LENGTH) * 8);

    do {
        prime = prime.add(ONE);
    } while (!prime.probPrime(CERTAINTY));

    return prime;
}


function divmod(num, den) {
    return [ Math.floor(num / den), Math.abs(num % den) ];
}


exports = module.exports = {

    createPrime: createPrime,

    divmod: divmod

};

