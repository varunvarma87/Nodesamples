/*jshint eqeqeq:false */
'use strict';


var assert = function (condition, message) {
    if (!condition) {
        throw new Error(message);
    }
};

assert.equals = function (a, b, message) {
    assert(a == b, message);
};


assert.strictEquals = function (a, b, message) {
    assert(a === b, message);
};


/**
 * CDB configs return all values as arrays, as there could be multiple values for a given key.
 * This just converts single item arrays to the the value itself.
 * @param config
 */
function normalizeConfig(config) {
    var result, value;

    if (!config) {
        return undefined;
    }

    result = {};
    Object.keys(config).forEach(function (key) {
        value = config[key];
        result[key] = (Array.isArray(value) && value.length === 1) ? value[0] : value;
    });

    return result;
}


exports = module.exports = {

    assert: assert,

    normalizeConfig: normalizeConfig

};