colo-detect-paypal
==================

Module that determines the datacenter where the code is running. Should never be used by an
application to determine behavior as apps must remain datacenter independent. A valid use
is for reporting metrics data in the infrastructure to all drilling down by datacenter to
isolate problems. It can also determine the MX (Mail Exchanger) SMTP gateway.

# Installation

```
npm install colo-detect-paypal --save
```

# Usage

```
var detector = require('colo-detect-paypal');
var colo = detector.coloDetect();
var coloMx = detector.coloMxDetect();
```

Ideally, you should call this once and keep the result since it
performs a shell operation which is not the most efficient thing.
Note that there are heuristics in use here.

For paypal, you may get slc, phx, dcgnn, qa.
If it is SLC, we still need to determine if it is SLC A or
SLC B. Return mapping are as follows:
```
PayPal: Phoenix = phx
        DCGnn (e.g. DCG11)
        SLC A = slca
        SLC B = slcb
        In SLC but neither A or B =  3rd part from the right
```

If you are in development, a value of `development`, will be returned.
If the colo cannot be determined, you will get an empty string.

Mail gateway values are as follows:
```
PayPal: Phoenix or DCG in Phoenix: mx.phx.paypal.com
        SLC or DCG in SLC: mx.slc.paypal.com
```
