# Concepts

## Sherlock Frontier Endpoint
{@link FrontierClient} constructor needs to be given the endpoint of Sherlock Frontier VIP in the form of host:port. This is the VIP of a load balancer in production.
At the moment the exact host name of this VIP is being finalized and the document will be updated when that happens.

There is an early stage Sherlock Frontier demo running on 
**phx6b02c-b25c.stratus.phx.ebay.com:6300**

[JMX View](http://phx6b02c-b25c.stratus.phx.ebay.com:8003)


## Client Group
**Cient Group** is a facility to route all *related* Frontier client connections to a single Frontier *master* instance. This groupping serves multiple purposes such as better server-side cache management, server-side aggregation of metrics from multiple connections with the same client group, rate limitting at the client group level, etc.

The client self-identifies itself with a client group. This implies that all client connections from a given logical client group must provide the same value of the client group to FrontierClient constructor.

In is recommended to form client group value by concatenating multiple key-value pairs as shown below:

````
appService=MyService;environment=env1234;cos=prod;tenant=paypal
````

## Metric
Metric is anything that can be measured periodically with a defined frequency. Examples of metrics include

* Average CPU reading over a period of time
* Number of transactions per second
* Number of network packets received since the OS was started

Conceptual data model of a metric consists of the static metadata describing the metric and the actual time series of this metric - the metric samples. Each metric sample consists of the timestamp of the measurement and the numeric value of measurement. 

The static metadata describing the metric consists of: domain, name, resolution, dimensions, metric kind, sample value type, and units.
### Metric Domain
Metric domain identifies the logical domain of the metric and also provides the namespace scope for metric names. Domain  can be anything meaningful to the user including such things as

* the org name, example: pp\_app
* the functional domain, example: dba

**Bad/wrong examples** of the domain name include:

* environment name, example: prod. This must be a dimension: environment=prod
* application name with a version, example: myapp_v2. v2 must be a dimension: version=v2

Metric domain should not contain '.', '/', and '=' in it.

It is recommended to have a few domains and many metrics in each of them rather than many domains with few metrics in each of them.

### Metric Name
Metric name is the immediate name associated with the metric. This name can be '.'-separated

### Metric Resolution
Sherlock supports only a discrete set of popular metric resolutions. Users are not allowed to choose their own (odd) resolutions like 35sec.
For a complete list of supported resolutions see
[supported metric resolutions](../resources/Protocol.proto#L24) 

### Metric Dimensions
Metric dimensions provide information on the origin of the metric. A good way to think about a set of dimensions and their values is as a vector in a multi-deminsional coordinate system.
Dimensions are commonly associated with various application environment aspects such as host, pool, colo, appService, etc.
**Bad/wrong examples** of dimensions include:

* transaction id; this is a transient value and should not be a dimension
* guid
* string with date/time in it

A good dimension has limited number of values associated with it. CAL Pool and Colo name are perfect examples of good dimensions.


### Metric Kind
See [supported metric kinds](../resources/Protocol.proto#46) 


### Metric Value Type
See [supported value types](../resources/Protocol.proto#57) 

