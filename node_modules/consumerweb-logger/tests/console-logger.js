var consoleLogger = require('../lib/console-logger');

describe('Logger tests', function () {
	it('should handle strings nicely as well', function() {
		consoleLogger('info', 'edge case');
	});
	it('should handle error-like objects', function() {
		consoleLogger('info', {message: 'that is a thing'});
		consoleLogger('info', {stack: 'pancakes', message: 'that is a thing'});
	});
	it('should handle server responses properly', function() {
		var err =  {
			stack: 'pancakes',
			message: 'that is a thing',
			extra:  JSON.stringify({
				serverResponse: {
					bla: 'lkasjkldsljkds',
					toast: 'sddssdsdf',
					code: 1231
				}
			}
		)};
		consoleLogger('info', err);
	});
	it('should log normal errors nicely', function() {
		consoleLogger('info', new Error('abc is for me'));
	});
	it('should log debug errors nicely', function() {
		consoleLogger('debug', 'abc is for me');
	});
	it('should log biz events nicely', function() {
		consoleLogger('BIZ', 'abc is for me');
	});
	it('should log info nicely', function() {
		consoleLogger('info', 'abc is for me');
	});
	it('should log warns nicely', function() {
		consoleLogger('warn', 'abc is for me');
	});
	it('should log errors nicely', function() {
		consoleLogger('error', 'abc is for me');
	});
	it('should log weird level alright', function() {
		consoleLogger('fake-level', 'abc is for me');
	});
	it('should our fancy errors even nicer', function() {
		var x = new Error('def is for me');
		x.extra = {};
		x.extra.serverResponse = {
			code: '123123'
		};
		consoleLogger('info', x);
	});
});
