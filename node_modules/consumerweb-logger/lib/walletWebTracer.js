'use strict';

var logger = require('./logger');

function walletWebTracer() {
	return function(req, res, next) {
		var data = { message: '8BALL-TRACER::' };

		data.message += 'RequestUrl=' + req.originalUrl + '::';
		if (req.account) {
			data.message += 'AcctNum=' + req.account.accountNumber + '::';
			data.message += 'SessID=' + req.account.sessionId + '::';
		}
		data.message += 'rLogID=' + req.rlogId;

		logger.info(req, data);

		next();
	}
}

module.exports = walletWebTracer;
