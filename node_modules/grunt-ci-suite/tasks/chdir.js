'use strict';


module.exports = function (grunt) {
	/**
	*Grunt Task to Change the Working directory
	*/
	grunt.registerMultiTask('chdir', 'Task to change the Current Working Directory', function () {
		grunt.log.writeln('Current directory: ' + process.cwd());
		if (this.filesSrc.length > 1) {
			grunt.fail.fatal("Please specify only one project directory", 1);
		}
		var filepath = this.filesSrc[0];
		grunt.log.writeln('Changing the Current directory to- "' + filepath);
		try {
			process.chdir(filepath);
			grunt.log.writeln('New directory: ' + process.cwd());
		}catch (err) {
			grunt.log.writeln('chdir: ' + err);
		}
	});
};