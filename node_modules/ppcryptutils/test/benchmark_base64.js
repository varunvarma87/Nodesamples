'use strict';

if (require.main.filename !== __filename) {
    return;
}


var Benchmark = require('benchmark'),
    base64 = require('../lib/base64');

var encode = new Benchmark.Suite('encode');

encode.add('Encode Native', function () {
    new Buffer('Hello, world.').toString('base64');
});

encode.add('Encode Javascript (PPUUENCODING)', function () {
    base64.encode('Hello, world.', base64.CharacterSet.PPUUENCODING, true);
});

encode.on('cycle', function (event) {
    console.log(String(event.target));
});

encode.run();

var decode = new Benchmark.Suite('decode');

decode.add('Decode Native', function () {
    new Buffer('SGVsbG8sIHdvcmxkLg==', 'base64').toString();
});

decode.add('Decode Javascript (PPUUENCODING)', function () {
    base64.decode('I6LiR6yi87TlScnaBW==', base64.CharacterSet.PPUUENCODING, true);
});

decode.on('cycle', function (event) {
    console.log(String(event.target));
});

decode.run();
