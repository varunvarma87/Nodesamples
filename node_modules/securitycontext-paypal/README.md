# PayPal Security Context

Validates PayPal `user_session` cookie and builds a security context.

# Usage

### Middleware

Note: `brogan` would typically take care of this. Application developers need not perform this step.

```javascript
var securitycontext = require('securitycontext-paypal');

app.use(securitycontext());
```

### Accessing Current Security Context

The current (for the request) security context can be fetched from `req`.

- `securityContext` - the [security context](https://github.paypal.com/AppPlatform/SecurityContextSpecification) object.
- `sessionToken` - the parsed authToken data.
- `serializedToken` - the serialized authToken from `userauthserv`.
- `actorInfo` - the updated actor info object from `userauthserv`.

If `securitycontext` middleware is not upstream, these properties will not exist on the `req` object.

### Security Context Model

See: [AppPlatform Security Context Specification](https://github.paypal.com/AppPlatform/SecurityContextSpecification)
