'use strict';

function MockSession(req) {
    this._req = req;
}

MockSession.prototype = {
    regenerate: function (callback) {
        var self;

        self = this;

        Object.keys(this).forEach(function (key) {
            self[key] = undefined;
        });

        setImmediate(function () {
            self._req = {};
            self._req.session = new MockSession(self._req);
            callback();
        });
    }
};

module.exports = MockSession;
