'use strict';

function MockResponse() {
    this.statusCode = 200;
    this.headers = {};
    this.body = undefined;
    this.chunks = [];
}

MockResponse.prototype = {
    header: function (field, value) {
        this.headers[field] = value;
    },
    writeHead: function (code, headers) {
        this.headers = headers;
        this.statusCode = code;
    },
    status: function (code) {
        this.statusCode = code;
    },
    write: function (data) {
        this.chunks.push(data);
    },
    end: function () {
        this.body = Buffer.concat(this.chunks);
        this.chunks = [];
    }
};

module.exports = MockResponse;
