node-userpaypal
===============

UserPayPal object is global and is available under req.user. This has all user related information, including valid token

This wrapper allows Node.js applications to get UserPayPal object over the Sparta service-bridge. This module assumes the application to have connectivity to asfdispatchbridgespartaweb package.

SIM User Guide: https://confluence.paypal.com/cnfl/display/securarch/SIM+User+Guide. This guide describes in detail all the functions available

## Usage

```js

package.json
	dependencies: {
		"servicecore": "0.1.8",
		"userpaypal": "0.4.0"
	}
Note: Plese check for latest versions

app.json
	"services": {
		"bridge": {
			"scheme": "https",
			"host": "HOST",
			"port": "PORT",
			"strictSSL" : false
		}
	}
Note: host and port must be read from topo in stage, sandbox & live environments

index.js:
	require("servicecore").configure(config.get("services"));

Controller:
	var Services = require('servicecore');
	var authReq = {
		userName : "USER_NAME",
		password : "PASSWORD",
		type : "0"
	};
	var userPayPal = Services.create("userpaypal");
	userPayPal.getUser(authReq, function (error, result) {
		doAction(result.body);
	});

```
type=0 for EMAIL/PASSWORD & 1 for PHONE/PIN

"postLoginAuthorizationUris" can be a list of comma separated URIs provided by the app for econsent or similar post ogin checks to be made according to the CACS olicies defined by the application.
