module.exports = {
	responseHandler: function (callback, message) {
		var msg = "[nemo-jaws] " + (message || "") + " error:";
		return function (data, response) {
			//console.log(data);
			if (data.constructor !== Object) {
				callback(new Error("[nemo-jaws] " + message + ": we didn't get back a JSON response"));
			}
			if (data.errorCode) {
				//well we have an error
				callback(new Error(data.errorMessage ? msg + data.errorMessage : msg));
			} else {
				callback(null, data);
			}
		};
	},
	omitKeys: function omitKeys(obj, keys)
	{
		var dup = {},key;
		for (key in obj) {

			if (keys.indexOf(key) == -1) {
				dup[key] = obj[key];
			}
		}
		return dup;
	},
	getConfig: function(config) {
		return {
			"stage": config.stage,
			"baseUrl": config.jawsRestUrl || "http://jaws/v1/QIJawsServices/restservices"
		}
	}
}
