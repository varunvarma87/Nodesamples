# nemo-jaws

Takes advantage of the restful Jaws interface published by the Quality Infrastructure Team

## Installation

1. Please install nemo to your project as described here: https://github.paypal.com/NodeTestTools/nemo/blob/master/README.md
2. Add this plugin to your package.json dev dependencies ("nemo-jaws": "0.1.1") (see package.json for latest release)
3. npm install
4. Add the following values to your nemo task configuration in Gruntfile.js
   * "STAGE": "stage you wish to use. needs to be uppercase, e.g. STAGE2MD052"

## Usage

Start with a simple test script example as below for an idea of how to move forward:

```javascript
	/*global describe:true, it:true, before:true, after:true */
	"use strict";

	var assert = require('assert'),
		user,
		nemo = require('nemo'),
		plugins = {
			"plugins": {
				"user": {
					"module": "nemo-jaws/plugin/user"
				},
				"query": {
					"module": "nemo-jaws/plugin/query",
					"register": true
				}
			}
		},
		setup;

	describe('nemo-jaws', function() {

		before(function(done) {
			(new nemo(plugins)).setup({
				"user": {
					"ususer": {
						"country": "US"
					}
				}
			}).
			then(function(result) {
				setup = result;
				user = result.user.ususer;
				done();
			})
		});

		after(function(done) {
			setup.driver.quit().then(function() {
				done();
			});
		});


		it('nemo-jaws.user should have created a user', function(done) {
        	if (user.emailAddress) {
        		done();
        	} else {
        		done(new Error("didn't get an email address");
        	}
		});
		it('nemo-jaws.query should have a database connection', function(done) {
			var queryData = {
				"databaseName": "RUSER",
				"sqlQuery": "select * from wuser_norm_address where rownum<10"
			};
			setup.query.post(queryData, function (err, data) {
				if (!!err) {
					done(err);
				}
				if (data && data.row && data.row.length && data.row.length == 9) {
					done();
				}
			});
		});
	});
```

## Roadmap

Endpoints will be wrapped based on community interest. Please see the entire list of endpoints here:
http://jaws/v1/QIJawsServices/

Pull requests are also welcome.