'use strict';
var Client = require('node-rest-client').Client,
	client = new Client(),
	baseUrl = "",
	lib = require("../../lib"),
	post = function(bankArgs, callback) {
		var newBankArgs = {
			"data":  bankArgs,
			"headers": this.sharedHeader
		};
		client.methods.post(newBankArgs, lib.responseHandler(callback, "bank.post"));
	};



module.exports = function() {
	this.configure = function(config) {
		this.stage = config.stage;
		this.sharedHeader = {
			"hostName": (this.stage + ".qa.paypal.com").toLowerCase(),
			"Content-type": "application/json"
		};
		baseUrl = config.baseUrl;
		//POST bank
		client.registerMethod("post", baseUrl + "/bankmill", "POST");
		this.post = post.bind(this);
	};

};
