'use strict';
var Client = require('node-rest-client').Client,
	client = new Client(),
	baseUrl = "",
	lib = require("../../lib"),
	post = function(creditCardArgs, callback) {
		var newCreditCardArgs = {
			"data":  creditCardArgs,
			"headers": this.sharedHeader
		};
		client.methods.post(newCreditCardArgs, lib.responseHandler(callback, "creditcard.post"));
	};



module.exports = function() {
	this.configure = function(config) {
		this.stage = config.stage;
		this.sharedHeader = {
			"hostName": (this.stage + ".qa.paypal.com").toLowerCase(),
			"Content-type": "application/json"
		};
		baseUrl = config.baseUrl;
		//POST creditCard
		client.registerMethod("post", baseUrl + "/creditcardmill", "POST");
		this.post = post.bind(this);
	};

};
