/*global describe:true, it:true, before:true, after:true */
"use strict";

var assert = require('assert'),
	nemoFactory = require('nemo-mocha-factory');

describe('@nemo-jaws.bank@', function () {
	nemoFactory({
		"plugins": {
			"plugins": {
				"query": {
					"module": process.cwd() + "/plugin/bank",
					"register": true
				}
			}
		}
	});

	it('should create a bank @createBank@', function (done) {
		var bankData = {
			"country":"US",
			"bankAccountType": "checking",
			"currency": "USD",
			"bankName":"Bank of America"
		};
		nemo.bank.post(bankData, function (err, data) {
			if (!!err) {
				done(err);
			}
			if (data && data.bankName && data.bankName === "Bank of America") {
				//console.log(data);
				done();
			}
		});
	});
});

//TODO: write one or more tests to make sure plugins and setup config are being taken correctly
