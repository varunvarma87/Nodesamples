/*global describe:true, it:true, before:true, after:true */
"use strict";

var assert = require('assert'),
	nemoFactory = require('nemo-mocha-factory');

describe('@nemo-jaws.query@', function () {
	nemoFactory({
		"plugins": {
			"plugins": {
				"query": {
					"module": process.cwd() + "/plugin/query",
					"register": true
				}
			}
		}
	});

	it('should query @queryTest@', function (done) {
		var queryData = {
			"databaseName": "RUSER",
			"sqlQuery": "select * from wuser_norm_address where rownum<10"
		};
		nemo.query.post(queryData, function (err, data) {
			if (!!err) {
				done(err);
			}
			if (data && data.row && data.row.length && data.row.length == 9) {
				done();
			}
		});
	});
});

//TODO: write one or more tests to make sure plugins and setup config are being taken correctly
