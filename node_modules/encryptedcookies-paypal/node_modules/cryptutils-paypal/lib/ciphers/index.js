'use strict';

var CipherSpec = require('./cipherSpec');

var failedRequireDependencies = {};

module.exports = {

    createCipherSpec: function (name, key, padding, iv) {
        var SpecCtor;

        if (!failedRequireDependencies[name]) {
            try {
                SpecCtor = require('./' + name);
            }
            catch (e) {
                failedRequireDependencies[name] = true;
                return new CipherSpec(name, key, padding, iv);
            }
            return new SpecCtor(name, key, padding, iv);
        } else {
            return new CipherSpec(name, key, padding, iv);
        }


    },

    CipherSpec: CipherSpec,

    DesxCipherSpec: require('./desx'),

    Aes128CipherSpec: require('./aes128')
};
